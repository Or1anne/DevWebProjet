{% extends "base.html" %}

{% block content %}

<!-- Barre de recherche -->
<div class="search-container">
    {% if not current_user.is_authenticated %}
    <input type="text" class="search-input search-news" placeholder="Rechercher une actualit√©...">
    {% endif %}
    {% if current_user.is_authenticated %}
    <input type="text" class="search-input search-obj" placeholder="Rechercher un objet...">
    {% endif %}
    <button class="search-button">Rechercher</button>
</div>

<h1 class="title">
    Bienvenue {{current_user.firstname}} ! 
</h1>

<!-- Conteneur des actualit√©s et informations -->
<div class="content-container">
    <!-- Actualit√©s -->
    <div class="box-index news-box">
        <h2 class="title-box">Membres de la famille</h2>
        <!-- <div class="news-item">
            <h3>Nouvelle r√©forme √©conomique</h3>
            <p>Le gouvernement annonce une nouvelle r√©forme pour soutenir les petites entreprises, dans le but de favoriser leur croissance et de renforcer leur comp√©titivit√© sur le march√©. Cette r√©forme comprend des mesures de simplification administrative, un all√©gement fiscal, ainsi qu'un soutien renforc√© √† l'innovation et √† la transition num√©rique. L'objectif est de permettre aux petites entreprises d'acc√©der plus facilement aux financements et de stimuler leur d√©veloppement, tout en leur offrant un cadre plus flexible et adapt√© √† leurs besoins. En renfor√ßant ces acteurs √©conomiques cl√©s, le gouvernement esp√®re √©galement cr√©er de nouveaux emplois et dynamiser l'√©conomie locale.</p>
        </div> -->
        <div class="user-box">
            {% for user in users %}
                {% if user.id != current_user.id %}
                <div class="news-item">
                    <h3>{{ user.pseudo }}</h3>
                    {% if user.image %}
                        <img class="pp" src="data:image/png;base64,{{ user.image | b64encode }}" width="60" height="60">
                    {% else %}
                        <img src="{{ url_for('static', filename='utilisateur-de-profil-sans-fond.png') }}"  width="60" height="60">
                    {% endif %}
                    <p><strong>√Çge :</strong> {{ user.age }} ans</p>
                    <p><strong>Genre :</strong> {{ user.gender }}</p>
                    <p><strong>Date de Naissance :</strong> {{ user.birthdate.strftime('%d-%m-%Y')}}</p>
                    <p><strong>R√¥le :</strong> {{ user.role }}</p>
                    <p><strong>Niveau :</strong> {{ user.level }}</p>
                </div>
                {% endif %}
            {% endfor %}
        </div>
    </div>

    <!-- Informations locales -->
    <!-- TODO √† changer -->
    <div class="box-index info-box">
        <h2 class="title-box">üìç Informations Locales</h2>
        <div class="info-item">
            <h3>Travaux sur la ligne de m√©tro</h3>
            <p>Le m√©tro ligne 3 sera en travaux du 10 au 15 mars, avec des bus de substitution</p>
        </div>
        <div class="info-item">
            <h3>March√© local ce weekend</h3>
            <p>Retrouvez les producteurs locaux sur la place centrale ce samedi matin !</p>
        </div>
        <div class="info-item">
            <h3>M√©t√©o : pluie pr√©vue</h3>
            <p>Pr√©parez vos parapluies ! De fortes averses sont pr√©vues en fin de semaine</p>
        </div>
    </div>
</div>
{% endblock %}
