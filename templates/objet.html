{% extends "base.html" %}

{% block content %}

<div class="search-container">
    <input type="text" class="search-input search-obj" placeholder="Rechercher un objet...">
    <button class="search-button">Rechercher</button>
</div>

<h1 class="title">
    Page  des objets connectés
</h1>

<div class="content-container">
    <div class="box-objet">
        <h2 class="title-box">Objets</h2>
        <div class="obj">
            <!-- TODO Modifier les liens de redirect au bonne endroit comme pour les id (voir avec Alban) -->
            <!-- TODO Utiliser la base de données -->
            {% for obj in objects %}
                <a href="{{ url_for('manage_object.profile_object', obj_id=obj.id) }}" class="objet-item">
                    <h3>{{ obj.nom }} ({{ obj.type }})</h3>
                        {% if obj.image %}
                            <img src="data:image/png;base64,{{ obj.image | b64encode }}" width="200" height="200">
                        {% else %}
                            <img src="{{ url_for('static', filename='objet-sans-fond.png') }}" width="200" height="200">
                        {% endif %}
                </a>
                {% endfor %}
            </div>
            {% if current_user.level == "Avance" or current_user.level == "Expert" %}
                <a href="{{ url_for('manage_object.add_object') }}">
                    <button class="add-btn">Ajouter un objet</button>
                </a>
            {%endif%}
    </div>


</div>
{% endblock %}